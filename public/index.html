<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>PhotoBlog Test</title>
  <style>
    body {
      color: #eee;
      font-family: sans-serif;
      display: flex;
      justify-content: center;
      padding: 40px;
    }
    .container {
      max-width: 700px;
      width: 100%;
    }
    .post {
      border: 1px solid #444;
      margin-bottom: 20px;
      padding: 20px;
      border-radius: 8px;
      background: #222;
    }
    .post img {
      width: 100%;
      border-radius: 4px;
    }
    .title {
      font-size: 24px;
      margin-top: 10px;
    }
    .group {
      font-size: 16px;
      color: #aaa;
    }
  </style>
</head>
<body>
  <div class="container" id="posts"></div>

  <script>
    console.log('üåç –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ /api/posts');

    fetch('/api/posts')
      .then(res => {
        console.log('üì° –û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–ª—É—á–µ–Ω:', res);
        return res.json();
      })
      .then(posts => {
        console.log('üì¶ –ü–æ–ª—É—á–µ–Ω–æ –ø–æ—Å—Ç–æ–≤:', posts.length);
        const container = document.getElementById('posts');
        posts.forEach((post, index) => {
          console.log(`üñºÔ∏è –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø–æ—Å—Ç #${index + 1}: ${post.title}`);

          const block = document.createElement('div');
          block.className = 'post';
          block.innerHTML = `
            <img src="${post.link}" alt="${post.title}">
            <div class="title">${post.title}</div>
            <div class="group">${post.group}</div>
          `;
          container.appendChild(block);
        });

        console.log('‚úÖ –í—Å–µ –ø–æ—Å—Ç—ã –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω—ã');
      })
      .catch(err => {
        console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–æ—Å—Ç–æ–≤:', err);
      });
  </script>
</body>
</html>
